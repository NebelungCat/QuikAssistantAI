Общайся со мной на русском. 
Мне нужно создать торгового ассистента для QUIK.

Цель: создание системы автоматической торговли, интегрированную с торговой платформой QUIK. Ассистент должен анализировать рыночные данные и автоматически отправлять заявки на покупку и продажу ценных бумаг на основе данных из текстовых файлов формата CSV.

Основные возможности системы:
1. Автоматическое выставление заявок в зависимости от времени суток
2. Поддержка нескольких брокеров (Финам, ВТБ, Промсвязьбанк, Россельхозбанк)
3. Работа с различными типами ценных бумаг (акции, облигации, иностранные бумаги)
4. Логирование всех операций
5. Обработка сделок и автоматическое закрытие позиций
6. Проверка корректности заявок перед выставлением


Изучи документацию по QUIK и LUA, которая приложена в проекте (info.chm и QLUA.chm)
Реализуй функции взаимодействия с API QUIK.
Система должна получить из QUIK идентификатор клиента userId и по нему определить брокера. Параметры (Broker, ClientCode, AccountCode, AccountCodeSpb, FirmId), а также максимальный и минимальный объем заявок для каждого типа бумаг, минимальная допустимая доходность,  максимальный объем заявки и другие, у каждого брокера должны быть свои.
Директория `/Data` содержит различные файлы с заявками. В названии файла будет аббревиатура брокера (FINAM_, PSB_, VTB_, RSHB_), операция заявки (Buy, Sell) и стратегия (_Edge). 
Файлы заявок должны иметь следующий формат:
- Название бумаги; Операция (B - покупка, S - продажа); Код бумаги; Количество; Цена
- Строки, начинающиеся с "--", считаются комментариями и игнорируются
Система должна считывать файл для своего брокера и выставлять заявки на биржу по указанной цене в количестве. Если присутствует _Edge, то заявка выставляется по минимально возможной цене для этого инструмента в пределах допустимого максимального объема заявки.
Перед выставлением заявки система должна проверить что текущая цена больше (для покупки) или меньше (для продажи) указанной в заявке цены.
Также перед выставлением заявки должны проходить следующие проверки:
- Проверка на существование уже выставленных заявок на тот же инструмент
- Проверка на соответствие минимальной/максимальной цене инструмента
- Проверка на превышение лимитов объема
- Проверка на минимальную доходность
- Проверка на наличие позиции при выставлении заявки на продажу
- Проверка на превышение номинала у облигаций

Обработка ошибок
Система должна обрабатывать ошибки QUIK и повторно отправлять заявки при необходимости, корректируя параметры (цены, объемы) в соответствии с требованиями биржи.

 Дополнительные требования
- Все операции должны логироваться с разными уровнями (debug, info, error)
- Система должна поддерживать работу с разными брокерами и автоматически определять текущего брокера
- Должна быть реализована защита от выставления дублирующих заявок
- Должна быть реализована система проверки и корректировки цен по шагу цены инструмента
